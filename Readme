# 🫀 NNX LLM - Multi-Agent PDF Processing System

> **Intelligent PDF processing powered by Gemini Vision AI**  
> Extracts text, tables, and images from multi-page PDFs using specialized AI agents.

---

##  Features

- **🤖 Multi-Agent Architecture**: Specialized agents for text, tables, and images
- **🧠 LLM-Powered**: Uses Google Gemini Vision for intelligent extraction
- **📄 Page-by-Page Processing**: Each page processed independently
- **📊 Structured Output**: Complete JSON with all extracted content
- **🚀 FastAPI Backend**: Modern, fast, auto-documented REST API
- **🔄 No Data Loss**: All agent outputs preserved in final JSON
- **⚡ Async Processing**: Fast and efficient document handling

---

## 📁 Project Structure

```
heart-llm/
├── main.py              # FastAPI server & Heart LLM orchestrator
├── text_agent.py        # Text extraction agent (Gemini Vision)
├── table_agent.py       # Table detection agent (Gemini Vision)
├── image_agent.py       # Image extraction agent (PyMuPDF)
├── config.py            # Configuration management
├── requirements.txt     # Python dependencies
├── .env                 # Environment variables (API keys)
├── README.md           # This file
└── .gitignore          # Git ignore rules
```

---

## 🚀 Quick Start

### 1. Prerequisites

- Python 3.8+
- Google Gemini API key ([Get one here](https://makersuite.google.com/app/apikey))

### 2. Installation

```bash
# Clone the repository
git clone https://github.com/Thulasi3012/contractx.git
cd contractx

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### 3. Configuration

Create a `.env` file in the project root:

```env
GEMINI_API_KEY=your_gemini_api_key_here
HOST=0.0.0.0
PORT=8000
GEMINI_MODEL=gemini-2.0-flash-exp
IMAGE_DPI=250
```

### 4. Run the Server

```bash
uvicorn main:app --reload 

Step 3: Include the router in your FastAPI app
Add this line after creating your FastAPI app instance (after the app = FastAPI(...) line):
python# Include the retrieval router
app.include_router(retrieval_router)
📡 Available Endpoints
Single Document Endpoints
All these endpoints support lookup by ID or UUID:
EndpointMethodDescription/api/documents/{id_or_uuid}/buyerGETGet buyer name/api/documents/{id_or_uuid}/sellerGETGet seller name/api/documents/{id_or_uuid}/deadlinesGETGet all deadlines/api/documents/{id_or_uuid}/obligationsGETGet all obligations/api/documents/{id_or_uuid}/alertsGETGet all alerts/api/documents/{id_or_uuid}/summaryGETGet document summary/api/documents/{id_or_uuid}/cleaned-textGETGet cleaned text/api/documents/{id_or_uuid}/partiesGETGet buyer & seller/api/documents/{id_or_uuid}/key-infoGETGet all key info (consolidated)/api/documents/{id_or_uuid}/metadataGETGet processing metadata
Batch Retrieval Endpoints
EndpointMethodDescription/api/documents/batch/deadlinesGETGet deadlines from multiple docs/api/documents/batch/obligationsGETGet obligations from multiple docs/api/documents/batch/alertsGETGet alerts from multiple docs
Query Parameters:

skip: Pagination offset (default: 0)
limit: Maximum results (default: 10, max: 100)
document_type: Filter by document type (optional)

Search Endpoints
EndpointMethodDescription/api/documents/search/by-buyerGETSearch by buyer name/api/documents/search/by-sellerGETSearch by seller name
Query Parameters:

buyer_name or seller_name: Search term (required)
skip: Pagination offset
limit: Maximum results